<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>抛物线运动</title>
    <style>
    *{
        margin: 0;
        padding: 0;
    }

    .ball{
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background-color:green;
        position: absolute;
    }
    </style>
</head>
<body>
    <script>
    //抛物线的开始点坐标 结束点坐标
    let XStart = 0,YStart = 0,XEnd = 1000,YEnd = 1000;
    let Time = 520;//运行时间
    let XSpeed = (XEnd - XStart) / Time;//水平方向上的速度
    let YSpeed = (YEnd - YStart) / Time;
    let A = 2 *(YEnd - YStart) / (Time * Time);//加速度的计算公式
    // js 动态添加元素
    let ball = document.createElement('div');
    ball.className = 'ball';
    document.body.appendChild(ball);//将元素添加到dom树上
    ball.style.top = YStart + 'px';
    ball.style.left = XStart + 'px';
    let nowX = XStart;//当前X的值
    let nowY = YStart;//当前Y的值
    let loop = 0;
    // 在函数内部再调用函数自身
    let move = () => {
        requestAnimationFrame(() => {
        if(nowY >= YEnd){
            ball.parentNode.removeChild(ball);
            return;
        }
        nowX += XSpeed;
        nowY += A * loop; 
        ball.style.top = nowY + 'px';
        ball.style.left = nowX + 'px';
        loop++;
        // console.log(loop);
        move();
    })
    }
    move();
    </script>
</body>
</html>